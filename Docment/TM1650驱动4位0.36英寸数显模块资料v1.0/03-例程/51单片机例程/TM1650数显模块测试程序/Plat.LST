C51 COMPILER V9.01   PLAT                                                                  12/07/2016 22:04:36 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE PLAT
OBJECT MODULE PLACED IN Plat.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Plat.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /*------------------------------------------------------------------------------------
   2           * ÏîÄ¿Ãû³Æ:
   3          
   4               TM1638Ä£¿éÇý¶¯³ÌÐòv1.0
   5           
   6           * °æÈ¨ÐÅÏ¢:
   7          
   8               (c) ·ÉÒíµç×Ó, 2014.
   9          
  10           * ÀúÊ·°æ±¾:
  11               2014-11-8:
  12                 - ³õÊ¼°æ±¾ V1.0.0;
  13          
  14           * ±¸×¢:
  15               - Ê¹ÓÃÇ°ÐèÒªÔÚTM1638.hÎÄ¼þÉèÖÃÍ¨ÐÅ½Ó¿Ú¡¢¼¶Áª¸öÊýºÍ³õÊ¼»¯Êý¾Ý
  16          -------------------------------------------------------------------------------------*/
  17          
  18          /************************°üº¬Í·ÎÄ¼þ***************************************************/
  19          
  20          #include <reg51.h>
  21          #include "TM1650.h"
  22          #include "plat.h"
  23          
  24          /************************±àÂë±í¶¨Òå***************************************************/
  25          
  26          unsigned char code Seg_test[8]=      {0x20,0x01,0x02,0x04,0x08,0x10,0x40,0x80};                                          //°Ë¶ÎÊýÂë¹ÜÏÔÊ¾µÄÃ¿
             -Ò»¶Î
  27          unsigned char code Number_arr[10]=   {0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,0x7f,0x6f};                        //¹²Ñô¼«ÊýÂë¹
             -ÜÊý×Ö0-9±àÂëÊý×é
  28          unsigned char code Character_arr[53]={0x77/*A*/,0xff,0x39/*C*/,0xff,0x79/*E*/,0x71/*F*/,0xff,0x76/*H*/,
  29                                                                                    0xff,0xff,0xff,0x38/*L*/,0xff,0xff,0xff,                                                               //ÊýÂë¹Ü¿ÉÏÔÊ¾×Ö·û±àÂë±í
  30                                                                                    0x73/*P*/,0x67/*Q*/,0xff,0xff,0xff,0x3e/*U*/,
  31                                                                                    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
  32                                                                                    0x08/*_*/,0xff,0xff,0x7c/*b*/,                                                                                 //°üÀ¨_,A,C,E,F,H,L,P,Q,U,-,b,c,d,h,l,n,o,u
  33                                                                                    0x58/*c*/,0x5e/*d*/,0xff,0xff,0xff,0x74/*h*/,0xff,0xff,0xff,0x30/*l*/,0xff,
  34                                                                                    0x54/*n*/,0x5c/*o*/,0xff,0xff,0x50/*r*/,0xff,0xff,0x1c/*u*/};
  35          /*************************************************************************************
  36          *º¯ÊýÃû£ºvoid DisplayInterfaceInit(void)
  37          *¹¦  ÄÜ£º³õÊ¼»¯ÏÔÊ¾½Ó¿Ú
  38          *Ëµ  Ã÷£º
  39          **************************************************************************************/
  40          void DisplayInterfaceInit(void)
  41          {
  42   1              Init1668Interface();
  43   1      }
  44          /*************************************************************************************
  45          *º¯ÊýÃû£ºvoid NoDecodeDigiDisplay(unsigned char start,unsigned char* arr,unsigned char len)
  46          *¹¦  ÄÜ£ºÏÔÊ¾Ò»¸öÊý×éµÄÊý¾Ý,ÎÞ³ÌÐò½âÂë£¬Êý×éµÄ±àÂëÓÉÓÃ»§¶¨Òå£¬
  47          *Ëµ  Ã÷£ºstart¡ª¡ªÆðÊ¼Î»£¬´Ó1-8£¬arr¡ª¡ªÒªÏÔÊ¾µÄÊý×é£¬len¡ª¡ªÐèÒªÏÔÊ¾¼¸Î»
  48          **************************************************************************************/
  49          void NoDecodeDigiDisplay(unsigned char start,unsigned char* arr,unsigned char len)
  50          {
  51   1              DisplayArr_TM1668(start,arr,len);
  52   1      }
  53          
C51 COMPILER V9.01   PLAT                                                                  12/07/2016 22:04:36 PAGE 2   

  54          /*************************************************************************************
  55          *º¯ÊýÃû£ºvoid NoDecodeDigiDisplay(unsigned char start,unsigned char* arr,unsigned char len)
  56          *¹¦  ÄÜ£ºÏÔÊ¾Ò»¸öÊý×éµÄÊý¾Ý,ÎÞ³ÌÐò½âÂë£¬Êý×éµÄ±àÂëÓÉÓÃ»§¶¨Òå£¬
  57          *Ëµ  Ã÷£ºdigi¡ª¡ªÒªÏÔÊ¾µÄÎ»ÖÃ£¬´Ó1-8£¬c¡ª¡ªÒªÏÔÊ¾µÄ×Ö·û
  58          **************************************************************************************/
  59          void NoDecodeDisplayOneDigi(unsigned char digi,unsigned char c)
  60          {
  61   1              DisplayOneDigi_TM1668(digi,c);
  62   1      }
  63          /*************************************************************************************
  64          *º¯ÊýÃû£ºvoid DisplayOneDigi(unsigned char digi,unsigned char cha,unsigned char dot)
  65          *¹¦  ÄÜ£ºÔÚÖ¸¶¨Î»ÏÔÊ¾Ò»¸öÊý×Ö»ò×Ö·û
  66          *Ëµ  Ã÷£ºdigi¡ª¡ªÒªÏÔÊ¾µÄÎ»ÖÃ£¬´Ó1-8£¬c¡ª¡ªÒªÏÔÊ¾µÄ×Ö·û£¬dot¡ª¡ªÊÇ·ñÏÔÊ¾Ð¡Êýµã
  67          **************************************************************************************/
  68          void DisplayOneDigi(unsigned char digi,unsigned char c,unsigned char dot)
  69          {
  70   1              unsigned char tmp;
  71   1              
  72   1              if((dot&0x01)==0x01)                                                    //ÅÐ¶ÏÊÇ·ñÏÔÊ¾Ð¡Êýµã£¬Èç¹ûdotÉèÖÃÎª1£¬ÔòÏÔÊ¾Ð¡Êýµã
  73   1              {
  74   2                      dot=0x80;
  75   2              }
  76   1              else
  77   1              {
  78   2                      dot=0;
  79   2              }
  80   1              if(c>=0&&c<=9)                                                                  //ÅÐ¶ÏÊÇ·ñÎªÊý×Ö
  81   1              {
  82   2                      tmp=Number_arr[c]|dot;
  83   2              }
  84   1              else if(c>=65&&c<=117)                                                  //ÅÐ¶ÏÊÇ·ñÎª×Ö·û´Ó¡¯A'µ½¡®u¡¯
  85   1              {
  86   2                      tmp=Character_arr[(c-65)]|dot;
  87   2              }
  88   1              else if(c==45)                                                                  //ÅÐ¶ÏÊÇ·ñÎª¡¯-¡®ºÅ
  89   1              {
  90   2                      tmp=0x01|dot;
  91   2              }
  92   1              else if(c==32)                                                                  //ÏÔÊ¾¿Õ°×
  93   1              {
  94   2                      tmp=0x00|dot;
  95   2              } 
  96   1              else if(c==61)                                                                  //ÅÐ¶ÏÊÇ·ñÎª¡®=¡¯ºÅ
  97   1              {
  98   2                      tmp=0x09|dot;
  99   2              }
 100   1              else if(c==46)                                                                  //ÅÐ¶ÏÊÇ·ñÎª¡®.¡¯ºÅ
 101   1              {
 102   2                      tmp=0x80|dot;
 103   2              }
 104   1                      
 105   1              DisplayOneDigi_TM1668(digi,tmp);                                //ÏÔÊ¾ÄÚÈÝ
 106   1      }
 107          /***************************************END********************************************/


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    102    ----
   CONSTANT SIZE    =     71    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       6
C51 COMPILER V9.01   PLAT                                                                  12/07/2016 22:04:36 PAGE 3   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
